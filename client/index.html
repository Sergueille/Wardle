<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Wardle</title>
    <link rel="stylesheet" href="main.css">
    <meta name="viewport" content="initial-scale=0.8,user-scalable=0">
    <script src="util.js" defer="defer"></script>
    <script src="panels.js" defer="defer"></script>
    <script src="toast.js" defer="defer"></script>
    <script src="grid.js" defer="defer"></script>
    <script src="keyboard.js" defer="defer"></script>
    <script src="options.js" defer="defer"></script>
    <script src="index.js" defer="defer"></script>
  </head>
  <body>
    <div id="toasts-container">
      <div class="toast error" id="toast-disconnected">
        Connection lost!
      </div>
      <div class="toast error" id="room-creation-failed">
        Couldn't create room. Maybe the server is dead.
      </div>
      <div class="toast error" id="room-join-failed">
        Couldn't join room. Make sure the code is correct.
      </div>
      <div class="toast" id="room-reconnected">
        Connected again!
      </div>
      <div class="toast" id="toast-invalid-word">
        Invalid word!
      </div>
      <div class="toast" id="toast-test">
        Test toast message.
      </div>
      <div class="toast error" id="toast-connection-fail">
        Couldn't create a connection. I have no idea what could cause this
      </div>
      <div class="toast" id="toast-too-late">
        Too late!
      </div>
    </div>

    <!-- Connection menu -->
    <div class="panel no-animation" id="start-panel">
      <div class="logo">
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-0">
            <span class="word-grid-label">W</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-red" id="logo-1">
            <span class="word-grid-label">A</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-2">
            <span class="word-grid-label">R</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-3">
            <span class="word-grid-label">D</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-4">
            <span class="word-grid-label">L</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-5">
            <span class="word-grid-label">E</span>
          </div>
        </div>

      </div>

      <div class="flex-col" id="start-options">
        
        <button id="create-room-btn">
          Create a room
        </button>
        <span class="sep-text">or</span>
        
        <div class="flex-row" id="join-room-row">
          <input id="join-room-code" placeholder="Enter room code"> <span class="text-margins">and</span>
          
          <button id="join-room-btn">
            Join a room
          </button>
        </div>
        
        <div class="margin"></div>

        <span>
          <span class="small-text">You can also</span>

          <button class="small-text link-button" id="show-rules-btn">
            see the rules
          </button>
        </span>
      </div>

      <div id="version">
        Unknown version
      </div>
    </div>

    <!-- Waiting menu for the host -->
    <div class="panel" id="wait-panel">
      <span class="room-code-label">Here's your room code:</span>
      <span id="room-code"></span>
      <span class="room-code-clipboard-hint">It has already been put in your clipboard!</span>
      <div id="options-container">
        <span class="options-title">Game options</span>
      </div>
      <span id="host-waiting-other-hint" class="waiting-player-hint">Waiting for another player to join...</span>
      <button id="host-ready-btn">Ready to start</button>
      <button id="host-cancel-btn" class="link-button gray">Cancel</button>
    </div>

    <!-- Waiting menu for the other player -->
    <div class="panel" id="wait-other">
      <span class="waiting-player-hint">Waiting for the host player to be ready...</span>
      <button id="other-wait-cancel-btn" class="link-button gray">Cancel</button>
    </div>

    <!-- Game screen -->
    <div class="panel" id="game-panel">
      <div id="timer">
        99
      </div>
      <div id="game-hint">
        <div id="game-hint-enter-word">Enter a word</div>
        <div id="game-hint-wait">Wait for the other player...</div>
        <div id="game-hint-sabotage">Sabotage a letter</div>
        <div id="hint-win">Congratulations!</div>
        <div id="hint-both-win">Congratulations!</div>
        <div id="hint-loose">Too bad!</div>
        <div id="hint-loose-solution">Too bad! The word was <span id="solution-hint">XXXXX</span></div>
      </div>
      <div id="game-hint-2">
        <div id="game-hint-restart">Press enter to start a new game</div>
        <div id="game-hint-restart-wait">Wait for the other player to also restart...</div>
        <div id="game-hint-other-done">The other player is waiting for you</div>
      </div>
      <div id="grids-scroll-area">
        <div class="flex-row" id="grids-container">
          <div class="word-grid" id="left-grid">
            
          </div>
          <div class="word-grid" id="right-grid">
            
          </div>
        </div>
      </div>
      <div id="keyboard">
        <!-- Populated by PopulateKeyboard() -->
      </div>
      <div id="key-enter" class="keyboard-enter"> <!-- Enter key template for PopulateKeyboard() -->
        <span id=icon-enter>ENTER</span>
        <span id=icon-restart>RESTART</span>
      </div>
    </div>

    <!-- Game rules -->
    <div class="panel" id="game-rules-panel">
      <div class="flex-row flex-column-when-screen-too-small">
        <div class="rules-example">
          <div class="word-grid-cell-container">
            <div class="word-grid-cell hint-none" id="logo-0">
              <span class="word-grid-label">W</span>
            </div>
          </div>
          <div class="word-grid-cell-container">
            <div class="word-grid-cell hint-red" id="logo-1">
              <span class="word-grid-label">A</span>
            </div>
          </div>
          <div class="word-grid-cell-container">
            <div class="word-grid-cell hint-none" id="logo-2">
              <span class="word-grid-label">R</span>
            </div>
          </div>
          <div class="word-grid-cell-container">
            <div class="word-grid-cell hint-none" id="logo-3">
              <span class="word-grid-label">D</span>
            </div>
          </div>
          <div class="word-grid-cell-container">
            <div class="word-grid-cell hint-none" id="logo-4">
              <span class="word-grid-label">L</span>
            </div>
          </div>
          <div class="word-grid-cell-container">
            <div class="word-grid-cell hint-none" id="logo-5">
              <span class="word-grid-label">E</span>
            </div>
          </div>
        </div>

        <span class="rules-title">game rules</span>
      </div>

      <div class="rules-container">
      <p>
        This game is just like New York Time's <a class="link-button" href="https://www.nytimes.com/games/wordle/index.html">Wordle</a>, but in multiplayer.
      </p>

      <p>
        You have to guess the secret word before your opponent does. To gain clues, you can enter a 5-letter word each turn, while your opponent does the same. 
      </p>

      <p>
        Then you can sabotage one letter of your opponent. They will not have any information on the letter you choose at the end of the turn.
      </p>

      <p>
        Finally, you see hints for your word. Each color has a specific meaning: <br/>
      </p>
      <div class="rules-example">
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-green" id="logo-0">
            <span class="word-grid-label">R</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-1">
            <span class="word-grid-label">U</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-red" id="logo-2">
            <span class="word-grid-label">L</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-yellow" id="logo-3">
            <span class="word-grid-label">E</span>
          </div>
        </div>
        <div class="word-grid-cell-container">
          <div class="word-grid-cell hint-none" id="logo-4">
            <span class="word-grid-label">S</span>
          </div>
        </div>
      </div>
      <ul>
        <li>Here, the letter <span class="rule-letter">R</span> is in the secret word and is in the correct spot.</li>
        <li>The letter <span class="rule-letter">E</span> is in the secret word, but in the wrong spot.</li>
        <li>The letter <span class="rule-letter">L</span> have been sabotaged by your opponent. You don't have any information on it. But maybe you opponent sabotaged it for a reason...</li>
        <li>The other letters are not in the secret word.</li>
      </ul>
      </div>

      <button id="rules-done-btn">
        OK
      </button>
        
    </div>

    <div id="loading-screen">
      <span>
        Loading...
      </span>
    </div>
  </body>
</html>
